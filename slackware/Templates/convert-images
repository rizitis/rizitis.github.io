ffmpeg -i original-image -vf "scale='if(gt(a,1),256,-1)':'if(gt(a,1),-1,256)',pad=256:256:(256-iw)/2:(256-ih)/2" output.png

